<div class="bg-white shadow-sm">
    <div class="container mx-auto px-4 py-4 max-w-4xl">
        <nav aria-label="Main navigation" class="flex justify-between items-center">
            <ul class="flex space-x-6 items-center">
                <li>
                    <a href="/" title="Anonym Shares homepage" >
                        <span class="text-xl font-bold text-gray-900 space-x-2 flex items-center">AnonymShares.com</span>
                    </a>
                </li>
                <li>
                    <a href="/" 
                       class="<%= currentPage === 'home' ? 'text-blue-600 hover:text-blue-800' : 'text-gray-600 hover:text-gray-900' %> transition-colors flex items-center space-x-2"
                       title="Shares your thoughts anonymously!" <%= currentPage === 'home' ? 'aria-current="page"' : '' %>>
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-blue-600 hover:text-blue-800" viewBox="0 0 20 20" fill="currentColor">
                            <path d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"/>
                        </svg>
                        <span>Share Thought</span>
                    </a>
                </li>
                <li>
                    <a href="/browse" 
                       class="<%= currentPage === 'browse' ? 'text-blue-600 hover:text-blue-800' : 'text-gray-600 hover:text-gray-900' %> transition-colors flex items-center space-x-2"
                       <%= currentPage === 'browse' ? 'aria-current="page"' : '' %>>
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                            <path d="M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z"/>
                        </svg>
                        <span>Explore</span>
                    </a>
                </li>
            </ul>

            <!-- Search Form -->
            <form onsubmit="handleHeaderSearch(event)" class="flex w-64" role="search">
                <label for="header-search" class="sr-only">Search thoughts</label>
                <input 
                    type="search"
                    id="header-search"
                    placeholder="Search thoughts..."
                    class="w-full rounded-l-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm"
                    value="<%= locals.search || '' %>"
                >
                <button 
                    type="submit"
                    class="bg-blue-600 text-white px-3 rounded-r-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"
                >
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"/>
                    </svg>
                </button>
            </form>
        </nav>
    </div>
</div>

<script>
function handleHeaderSearch(event) {
    event.preventDefault();
    const searchInput = document.getElementById('header-search');
    const searchQuery = searchInput.value.trim();
    if (searchQuery) {
        window.location.href = `/search/${encodeURIComponent(searchQuery)}`;
    }
}
</script>